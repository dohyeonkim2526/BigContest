# 19년도 데이터에 없는 20년도 데이터 처리하는 방법
* 20년도 예측 데이터와 19년도 판매 데이터의 마더코드를 이용한다.


1) 20년도 데이터에서, **19년도 마더코드가 없는 행**들만 반환하여 새로운 데이터프레임을 생성한다.

2) 새로운 데이터프레임에서 상품군(의류/가구/건강식품 등) 기준으로 나눠서 생각한다.
     
       ex.상품군['의류'] : 잭필드 남성 반팔셔츠, 코몽트 남성 티셔츠, 로질리 도로시 원피스, 라라쎄 쉬폰 롤업재킷 ...

3) 토큰임베딩을 통해 단어들의 요소를 반환한다.

       ex.잭필드 남성 반팔셔츠 4종 59800원 → 잭필드, 남성, 반팔, 셔츠, 4종
       
4) 19년도 판매 데이터에서도 상품군 기준으로 나눠서 생각한다.

5) 19년도 판매 데이터에서도 토큰임베딩을 통해 단어들의 요소를 반환한다.

       1) CERINI by PAT 남성 캐주얼 셔츠 4종 59900원 → CERINI, by, PAT, 남성, 캐주얼, 셔츠, 4종, 59900원
       
       2) 19 SS USPA 남성 화이트라벨 폴로셔츠 3종 79000원
       
       3) USPA 남성 폴로셔츠 위켄드 컬렉션 3종 79000원
       
       4) 레드캠프 남성 썸머 기능성 셔츠 7종 패키지 39900
       
6) **토큰 임베딩에서 겹치는 단어의 갯수 + 상품명에 들어가는 숫자(ex.4종) + 가격차이**에 대한 가중치들을 부여해서 모델을 생성한다.

        *가격차이에 대한 가중치를 크게 설정해줘야한다
        
        → '남성', '셔츠' 에 대해서 유사도는 (1)~(4) 모두 동일하다.
        
        → 그러나 '가격'에 대해서 차이가 많이 난다면, 유사 상품으로 보기 어렵다.
        
        → 그렇기 때문에 '잭필드 남성 셔츠'에 대해서는 '남성 썸머 기능성 셔츠(4)' 보다 '남성 캐주얼 셔츠(1)'가 유사 상품에 가깝다.
        
 
7) 위의 내용을 증명해보이기 위해, 상품군['가구']에 대해서도 확인해보았다.

*당연히, 20년도 데이터 기준으로, 19년도 마더코드가 없는 행만 추출한 새로운 데이터프레임 기준

        20년도 예측 상품: 보루네오, 델루나, 유로탑, 슬라이딩, LED, 침대, 슈퍼싱글, 548000원
        
        19년도 판매 상품
        
        1) (무)삼익가구, 어블러, LED, 멀티, 수납형, 침대, 슈퍼싱글, 549000원
        
        ▷ 유사 단어(3) + 가격차이(1000원)
        
        2) (일)삼익가구, 어블러, LED, 멀티, 수납형, 침대, 슈퍼싱글, 499000원
        
        ▷ 유사 단어(3) + 가격차이(49000원)
        
        3) 보루네오, 루나시즌, 2, 유로탑, 멀티수납형, LED, 침대, SS, 슈퍼싱글, 548000원
        
        ▷ 유사 단어(5)+ 가격차이(0원)
        
        4) 보루네오, 루나, 유로탑, 멀티수납형, LED, 침대, SS, 슈퍼싱글, 548000원
        
        ▷ 유사 단어(5) + 가격차이(0원)
        
        5) 레스토닉, 블루투스, LED, 서랍, 침대, 슈퍼싱글, 599000원
        
        ▷ 유사 단어(3) + 가격차이(1000원)
        
        
* **토큰 임베딩에서 겹치는 단어의 갯수/상품명에 들어가는 숫자(ex.4종)/가격차이**에 대한 적절한 가중치 부여

⇒ 위와 같이, 파일로 직접 찾은 것처럼

⇒ Python를 통해서도 **"적절한 단어 유사도" + "가격차이의 정도"** 를 모두 포함할 수 있는 가중치를 선택해줘야한다.        
